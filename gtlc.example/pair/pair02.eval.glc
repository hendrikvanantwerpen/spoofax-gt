core

  let x : ? = (true, unit) : (bool, unit) => ?
   in if fst x : ? => (?, ?) : ? => bool then
     snd x : ? => (?, ?)
   else
     unit : unit => ? : ?

evaluates to

  dyn unit